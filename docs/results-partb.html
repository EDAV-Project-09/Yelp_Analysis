<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Results-part(B) | Yelp Analysis</title>
  <meta name="description" content="Chapter 6 Results-part(B) | Yelp Analysis" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Results-part(B) | Yelp Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Results-part(B) | Yelp Analysis" />
  
  
  

<meta name="author" content="Jie Mei, Liuxin Chen, Ningxin Li, Yihui Hu" />


<meta name="date" content="2020-12-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results-parta.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Yelp Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#discription"><i class="fa fa-check"></i><b>2.1</b> Discription</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#basic-information"><i class="fa fa-check"></i><b>2.2</b> Basic Information</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#problems"><i class="fa fa-check"></i><b>2.3</b> Problems</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#read-data"><i class="fa fa-check"></i><b>3.1</b> read data</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#change-formats"><i class="fa fa-check"></i><b>3.2</b> change formats</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#deal-with-categories"><i class="fa fa-check"></i><b>3.3</b> Deal with categories</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#deal-with-attributes"><i class="fa fa-check"></i><b>3.4</b> Deal with attributes</a></li>
<li class="chapter" data-level="3.5" data-path="data-transformation.html"><a href="data-transformation.html#output-cleaned-data"><i class="fa fa-check"></i><b>3.5</b> Output cleaned data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results-parta.html"><a href="results-parta.html"><i class="fa fa-check"></i><b>5</b> Results-part(A)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results-parta.html"><a href="results-parta.html#spatial-data-analysis"><i class="fa fa-check"></i><b>5.1</b> Spatial Data Analysis</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results-parta.html"><a href="results-parta.html#whole-dataset"><i class="fa fa-check"></i><b>5.1.1</b> Whole Dataset</a></li>
<li class="chapter" data-level="5.1.2" data-path="results-parta.html"><a href="results-parta.html#arizona-dataset"><i class="fa fa-check"></i><b>5.1.2</b> Arizona Dataset</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results-parta.html"><a href="results-parta.html#time-analysis"><i class="fa fa-check"></i><b>5.2</b> Time Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="results-partb.html"><a href="results-partb.html"><i class="fa fa-check"></i><b>6</b> Results-part(B)</a>
<ul>
<li class="chapter" data-level="6.1" data-path="results-partb.html"><a href="results-partb.html#yelp-rating-analysis"><i class="fa fa-check"></i><b>6.1</b> Yelp Rating Analysis</a></li>
<li class="chapter" data-level="6.2" data-path="results-partb.html"><a href="results-partb.html#restaurant-services-and-attribute-analysis"><i class="fa fa-check"></i><b>6.2</b> Restaurant Services and Attribute Analysis</a></li>
<li class="chapter" data-level="6.3" data-path="results-partb.html"><a href="results-partb.html#covid-impact-analysis"><i class="fa fa-check"></i><b>6.3</b> Covid Impact Analysis</a></li>
<li class="chapter" data-level="6.4" data-path="results-partb.html"><a href="results-partb.html#shiny-app-word-cloud-for-yelp-key-words"><i class="fa fa-check"></i><b>6.4</b> Shiny App: Word Cloud for Yelp Key Words</a></li>
<li class="chapter" data-level="6.5" data-path="results-partb.html"><a href="results-partb.html#shiny-app-change-the-sorting-method-for-rating-distribution"><i class="fa fa-check"></i><b>6.5</b> Shiny App: Change the Sorting Method for Rating Distribution</a></li>
<li class="chapter" data-level="6.6" data-path="results-partb.html"><a href="results-partb.html#shiny-app-word-cloud-for-yelp-key-words-1"><i class="fa fa-check"></i><b>6.6</b> Shiny App: Word Cloud for Yelp Key Words</a></li>
<li class="chapter" data-level="6.7" data-path="results-partb.html"><a href="results-partb.html#shiny-app-change-the-sorting-method-for-rating-distribution-1"><i class="fa fa-check"></i><b>6.7</b> Shiny App: Change the Sorting Method for Rating Distribution</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Yelp Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="results-partb" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Results-part(B)</h1>
<div id="yelp-rating-analysis" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Yelp Rating Analysis</h2>
<div id="overview-of-stars-rating-graphical-distribution" class="section level4" number="6.1.0.1">
<h4><span class="header-section-number">6.1.0.1</span> Overview of Stars Rating graphical distribution</h4>
<p>In This section, we will mainly focusing on analyzing the distribution and characteristics of stars rating in Yelp data. The aim of this part is to answer several question: Is the rating distribution has geographical features? What is the distribution of Ratings among different Restaurant type? What is the distribution of Ratings among different country style? And what is the relationship between stars rating and the price level of this restaurant？</p>
<p>First of all, we want to look deep into the Geographical distribution characteristics for yelp stars rating data, to study the relationship between state distribution and the restaurants’ stars rating.</p>
<p><img src="images/1.png" alt="Micromap:States Average Stars Rating in 2020 (sorted by ratings)." />
<img src="images/2.png" alt="Micromap:States Average Stars Rating in 2020 (sorted by counts)." /></p>
<pre><code>micromapST(d, panelDesc01, sortVar=13,ascend = FALSE,
title=c(&quot;States Average Stars Rating in 2020&quot;,
&quot;Map distribution &amp; cleverdot plot&quot;)
)</code></pre>
<p>In this section, we use <code>micromapST</code> packages to analyze the yelp stars rating dataset. As for this packages, we can have a clear and straightforward idea about the state geographical spot and how it related to the attribute we are looking for. Due to the data size limitation, we have to consider the influence from too small data size for some states which can dramatically distort the relationship and results. Accordingly, we choose stars ratings, state, and review count as data input.</p>
<p>In each of the above figures, we can see three columns: the left one is the the map of state in US which colored state means that this state is chosen, the second column is cleverdot plot for average stars ratings in each state, and the last column is about the total number of review counts in each state. The first figure is sorted by ratings, and the second one is sorted by counts.</p>
<p>In the first picture, we can see that the average ratings of each state ranging from 1-5, mainly concentrated around 3.5 and it seems that there is some relation among states distribution. However, we have to take number of counts into consideration, so we switch the sorting method from ratings to ratings to total number. In the second picture, we can see that for total number of counts large enough stats (which can draw a more stable and more convicing idea), the stars rating is relatively constant around 3.5 with no obvious geographical features. So, we can come to the conclusion that the stars ratings in Yelp do not present obvious geographical features among states. And for deeper analysis in stars ratings, we choose sub-dataset in Arizona state as a representative, which has top2 capacity of total review counts.</p>
</div>
<div id="stars-rating-analysis-in-arizona" class="section level4" number="6.1.0.2">
<h4><span class="header-section-number">6.1.0.2</span> Stars Rating Analysis in Arizona</h4>
<p><img src="finalproj_files/figure-html/echo==FALSE-1.png" width="672" /></p>
<pre><code>yelp_az &lt;- yelp_clean_data[yelp_clean_data$state == &quot;AZ&quot;,]
ggplot(yelp_az, aes(x=stars)) + geom_bar()</code></pre>
<p>In This section, we will mainly focus on the sub-dataset in Arizona State to represent the total ratings, as we conclude that there is limited difference in stars ratings among different states.</p>
<p>In the fist place, we draw a overview for stars distribution in Arizona State, we use <code>ggplot</code>bar chart to display the distribution of this uncontinuous variable of stars rating, and we can see a left-skewed normal distribution and the dashed blue line is the mean for ratings. In the following part, we will look into the relationship of between ratings and Restaurant type and Country style.</p>
<div id="the-distribution-of-ratings-among-different-restaurant-category" class="section level5" number="6.1.0.2.1">
<h5><span class="header-section-number">6.1.0.2.1</span> 1. The distribution of Ratings among different Restaurant category</h5>
<p><img src="finalproj_files/figure-html/unnamed-chunk-61-1.png" width="672" />
<img src="finalproj_files/figure-html/unnamed-chunk-62-1.png" width="672" /></p>
<pre><code>ggplot(yelp_az_tidy,aes(stars))+geom_bar()+facet_wrap(~category)</code></pre>
<pre><code>ggboxplot(yelp_az_tidy)</code></pre>
<p>In this section, Let’s take a close look at the relationship between The distribution of Ratings and different Restaurant category. We use <code>ggplot</code>bar chart and <code>ggboxplot</code>as our visualization tools. The Restaurant category means the main business of this restaurant, which includes alcohol/brunch/drinks/meat/vegan etc.. The question is whether the rating distribution is constant or will be affected by different main business.</p>
<p>In the first chart, we can see rating distribution bar chart grouped by different Restaurant category. The different average height in different plot is driven by the size of data. We can see that almost every Restaurant category shows a left-skewed normal distribution in ratings, which means people are more tending to give lower rating that higher rating centered around 3.5-4, and this is constant with the total distribution.</p>
<p>In the second chart, we can see that rating distribution boxplot grouped by different Restaurant category. In this figure, we can see more quantitative for the difference among categories. It showes that dessert/drinks/organics often has higher average ratings compared to others, specially for organics(But organics has relatively low datasize and this will challenge the calidity of the results). And for meat, although has almost same average ratings with others, it has wider range of rating distribution and less-likely normal distribution, which can indicate that people may perform more diversified opions toword meat restaurant.</p>
</div>
<div id="the-distribution-of-ratings-among-different-countries" class="section level5" number="6.1.0.2.2">
<h5><span class="header-section-number">6.1.0.2.2</span> 2. The distribution of Ratings among different Countries</h5>
<p><img src="finalproj_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<pre><code>country_data$american &lt;- ifelse(str_detect(country_data$country,&quot;american&quot;),1,0)
country_tidy &lt;- gather(data = country_data, key = &quot;Country&quot;, value = &quot;value&quot;, 4:16)
ggplot(yelp_az_tidy,aes(stars))+geom_bar()+facet_wrap(~category)</code></pre>
<pre><code>ggboxplot(yelp_az_tidy)</code></pre>
<p>In this section, There is another special perspective we’d like to explore while analyzing the relationship between stars ratings and country styles. We use <code>ggplot</code>bar chart and <code>ggboxplot</code>as our visualization tools as well. The country style means the food style origin of these restaurant, which includes American/Mexican/Chinese/Japanese etc.(We choose top16 country for analysis). The question is whether the rating distribution is constant or will be affected by different country style.</p>
<p>In the first chart, we can see rating distribution bar chart grouped by different country style. The different average height in different plot is driven by the size of data. We can see that almost every country style shows a left-skewed normal distribution in ratings. And we can also get the information that American and Mexican food has a predominated role in US compared to others.</p>
<p>In the second chart, we can see that rating distribution boxplot grouped by different country style. In this figure, we can see more quantitative for the difference among countries. It shows that the stars rating distribution is relatively stable and constant among different country styles, and we can divide it into two parts: one part for first 4 country style (American/Mexican/Chinese/Italian), and another group for other country styles. The first groups has relatively higher datasize, lower average ratings and wider rating distribution. The second group often shows higher average ratings, narrower rating distribution and also lower data size.</p>
</div>
<div id="stars-rating-vs-price-level" class="section level5" number="6.1.0.2.3">
<h5><span class="header-section-number">6.1.0.2.3</span> 3. Stars Rating VS Price level</h5>
<p><img src="finalproj_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<pre><code>count_data &lt;- price_data %&gt;% count(price,stars)
ggplot(count_data, aes(price, stars, fill= n)) +geom_tile()</code></pre>
<p>In this section, Let’s take a close look at the relationship between Stars Ratings and Restaurant price level. In our dataset, we have price level and ratings for each restaurant, so we decide to use <code>geom_tile()</code>heatmap to visualize this relationship. The price level is ranging from 1-4(<code>$</code>,<code>$$</code>,<code>$$$</code>,<code>$$$$</code>), and the stars is ranging from 1-5 (minimum interval of 0.5).</p>
<p>As shown in the figure, for low price level (1/2, represents <code>$</code>/<code>$$</code>in yelp website), stars rating are much more intended to be normal-distributed with higher tendency for moderate ratings not extremely high praise or low ratings; However, for low price level (3/4), the data size is decreasing and also, the distribution of ratings are more like constant not normal, which may represents that not higher price equal to higher rating and more pleasant enjoyment.</p>
</div>
</div>
</div>
<div id="restaurant-services-and-attribute-analysis" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Restaurant Services and Attribute Analysis</h2>
<p>In this section, we will analyze some attributes and services provided by the restaurants, in order to illustrate whether a certain features will affect a restaurant’s rating or pricing. Particularly, we are curious about how much the supplementary services besides food itself account for the the difference between high-rated and low-rated, expensive and economical places.</p>
<p>Firstly, in order to study the relationship between supplementary services and the restaurants’ pricing, let’s look at an overview grouped bar chart. The x axis is four value-added services that we will pay attention to in the following analysis: <code>Parking</code> (whether there is convenient parking area near the restaurant), <code>Outdoor Seats</code> (whether the restaurant provides seats for outdoor waiting), <code>WiFi</code> (whether there provides WiFi service for clients), <code>TV</code> (whether the restaurant is equipped with one or more TV for entertainment). The y axis shows the number counts. And the two colors stand for “yes or no” conditions.</p>
<p>From the graph, we could know that generally, the most of restaurants are pricing at <code>$$</code> level and at the <code>$$$</code> or higher level, there are relatively few restaurants. As for the services, it’s common for the four pricing levels that the number of restaurants which provide parking area is higher than the one that not, which is in the same condition as the WiFi service. However, for the outdoor seats, the high pricing level restaurants tend to set up, while the majority of economical level places don’t.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-71-1.png" width="1152" /></p>
<p>Let’s take a close look at the relationship between the pricing and the supplementary services. By plotting the alluvial graph, we’d like to address whether the higher prices are set, the more value-added services are provided.</p>
<p>The most obvious finding is that higher proportion of <code>$$$</code> and <code>$$$$</code> level restaurants offer convenient parking area or parking services than the other two levels. Considering the reasons, this may be related to the locations of higher pricing level restaurants. Because of the expensive prices, they either have more budgets to locate at a convenient place, or have to do so in order to match up to their overall standing. As for outdoor seats, generally a half of all restaurants provide while half not, and there is not a significant pattern among different pricing levels. It’s easy to understand because not every restaurant needs to enter after a long time of waiting. The same data result happens to <code>WiFi</code>, too. It seems quite confusing to us at the beginning as we thought that the majority of restaurants provide WiFi services nowadays, based our intuition and experience. However, it also makes sense that restaurants vacillate between providing a nice amenity and dragging clients’ attention from the virtual world back to their food. However, the situation of TV equipment is totally different. Most of restaurants have one or more TVs in their store, which a scientific findings may help to explain: people tends to eat more while watching a video or shows.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-72-1.png" width="672" /></p>
<p>There is another special perspective we’d like to explore while analyzing the relationship between price and services. In our mind, we meet more “rules”, like dressing code, and behave more conservatively at some expensive restaurants. Is this true, or just stereotypes? The alluvial plot mainly focus on three attributes: <code>Attire</code> (whether the restaurant requires a dress code), <code>AppointmentOnly</code> (whether customers can access the restaurant by appointment only or not), <code>Noise</code> (how’s the noise level inside the restaurant).</p>
<p>From the alluvial plot, we can see that although higher proportion of pricey restaurants tend to set a “dressy” attire requirement, not every <code>$$$</code> and <code>$$$$</code> restaurants have a dress code. Mostly, <code>$$</code> and <code>$</code> price level restaurants allow casual attire, while a few of them require dressy code. As for appointment, very few of restaurants are accessed only by appointment, which are mainly from <code>$$</code> and <code>$$$</code> price level. Sometimes, restaurants with distinguishing membership or extreme popularity may need appointment only regulations to manage their customer volume and essential ingredient purchase. When it comes to noise, this is a joint effect of environment and customers’ behavior. Most of the pricey restaurants have average noise, while the economical restaurants are more inclined to go extreme, either quiet or loud. Providing a relatively quiet environment and also making customers feel comfortable to chat and chill while eating is an art of running a perfect restaurant.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<p>As we conclude above, various pricing level restaurants have some differences in supplementary services providing and consumer regulations. Now, let’s further question whether thess differences matter in the restaurant ratings.</p>
<p>On consideration of the distribution, we divided the ratings into 5 level groups. As the alluvial plot shows, the different color flows go roughly even into each categories, which demonstrates that there is not a strong relationship between restaurant ratings and value-added services. On one hand, technology development helps restaurants to learn from each other faster and renders them easy to update these hardware. Thus, when the supplementary services become common, it’s hard to distinguish from others by providing the same thing. On the other hand, value-added services include but are not limited to these four factors. Besides the basic amenities, customers may care more about some true value-added and distinctive features, like stylish decorations, meticulous waiters.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
</div>
<div id="covid-impact-analysis" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Covid Impact Analysis</h2>
<p>In this section, we analyze how restaurants were affected by nCovid-19.</p>
<p>The covid dataset from Yelp includes how restaurants respond to the pandemic and the main purpose of this section is to explore how the demographic and behavioral data of restaurats are correlated with the Covid effects.</p>
<pre><code>data[&quot;Open after covid&quot;] &lt;- (as.logical(data$`delivery or takeout`) | as.logical(data$`Grubhub enabled`)) &amp; data$is_open</code></pre>
<p>Since the original datasets give no information on the Opening status of restaurants during the pandemic, I created a new column “Open after covid” indicating whether restaurants are still open inferring from other variables.</p>
<p>In particular, there are three conditions I looked into: whether the restaurant is still open before the pandemic, whether the restaurants offer delievery service, and whether the restaurant collarborate with Doordash. The process is printed as above.</p>
<p>With the information about the opening status of restaurants, I am interested in how it is distributed over different states. Bellow is a Cleveland dot plot of opening status of restaurants over States faceted by delivery availability.</p>
<p>We can clearly see that the opened restaurants during Covid has much higher frequency in delivery services and those closed during Covid has higher frequency in non-delivery.</p>
<p>Moreover, if we just look at the opened restaurants panel, we can see that the number of non-delivery restaurants are very low (very close to 0) and only exists in the states where more data are collected. On the other hand, if we look at the closed restaurants panel, the differences between delivery available versus not avalaible restayrants do not differ much in the states where more data are collected.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<p>To further analyze the problem, bellow is a Parallel Coordinate Plots where the x-axis is a series of variable related to Covid impacts and restaurants attributes. I colored them using opening status.</p>
<p>From the graph, we can see that the relationship between the variables are relatively random: there is no strong evidence of either postive relationships or negative relationships. However, by coloring the data using opening status, we can see that most non-open restaurants do not have specific policies against Covid impacts and they do not provide delivery options. The rating (star) of the restaurants seems to be not correlated with opening status according the plot as the non-open restaurants have similar number of stored distributed over each star level. As for the review count, since the data is very imbalances: having large number of low review counts, we cannot infer its relationship with other variables.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-80-1.png" width="672" /></p>
<p>Lastly, we are interested in the difference of Covid impacts over different States. Bellow is the Statebin plot of open store proportions.</p>
<p>As mentioned above, we have a strong imbalance in our data. Some States only have a few data points while some States have a large number of data collected. Trying to alleviate this problem, instead of ploting the frequencies of opening restaurants in each States, we decided to compute the proportion of open restaurants (number of open restaurants over number of total restaurants recorded in the data in each state).</p>
<p>Since not all States are included in our data, we only plotted the States that exists in the dataset. We did not fill in the rest of the States because by marking them with a color or NA can be misleading while comparing differences between States.</p>
<p>From the Statebin plot, we see that NY has a relatively high proportion of open restaurants followed by TX, OH and NC. There are several States with 100% proportions and these are likely outliers: 100% occurs mostly because there are only a few data collected and these collected restaurants happened to be opening.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-82-1.png" width="672" /></p>

<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
# Interactive component</p>
</div>
<div id="shiny-app-word-cloud-for-yelp-key-words" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Shiny App: Word Cloud for Yelp Key Words</h2>
<p>We initially deployed our interactive plots to <a href="https://edavyelpanalysis.shinyapps.io/edav_wordcloud/" class="uri">https://edavyelpanalysis.shinyapps.io/edav_wordcloud/</a> but later encountered technical issues with the server. So we aslo screen shot our images in the following.</p>
<p><img src="shinyimages/wordcloud1.jpeg" alt="Screenshot for Interactive Shiny APP:Word Cloud." />
<img src="shinyimages/wordcloud2.jpeg" alt="Screenshot for Interactive Shiny APP:Word Cloud." />
This Shiny App serves as an extension to our previous Word-Vector analysis of the restaurant category and country style. Once the word vector has been built, anyone can adjust the input limitation (like: minimum frequency and max number of words) and build a word-cloud. User can slide the bar and set the “max words” and “min frequency” in the word cloud. A valid query word would be one that is present in the corpus, else it wouldn’t be part of the word vector. It is easy to think of such words; It help the user to interact with the word cloud generation.</p>
</div>
<div id="shiny-app-change-the-sorting-method-for-rating-distribution" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Shiny App: Change the Sorting Method for Rating Distribution</h2>
<div class="figure">
<img src="shinyimages/map2.jpeg" alt="" />
<p class="caption">Screenshot for Interactive Shiny APP:Rating Distribution .</p>
</div>
<p><img src="shinyimages/map1.jpeg" alt="Screenshot for Interactive Shiny APP:Rating Distribution ." />
In addition to directly using pdf or pictures to display Ratings distribution under different sorting methods, we can use shiny app to adopt a interactive way of switching the sorting method. By clicking the radio button, we can alter the choice of sorting method, and compare the result much more directly. In main panel, we inserted the micromap result as images that is linked to different choices.</p>
<p>=======
# Interactive component</p>
</div>
<div id="shiny-app-word-cloud-for-yelp-key-words-1" class="section level2" number="6.6">
<h2><span class="header-section-number">6.6</span> Shiny App: Word Cloud for Yelp Key Words</h2>
<p>We initially deployed our interactive plots to <a href="https://edavyelpanalysis.shinyapps.io/edav_wordcloud/" class="uri">https://edavyelpanalysis.shinyapps.io/edav_wordcloud/</a> but later encountered technical issues with the server. So we aslo screen shot our images in the following.</p>
<p><img src="shinyimages/wordcloud1.jpeg" alt="Screenshot for Interactive Shiny APP:Word Cloud." />
<img src="shinyimages/wordcloud2.jpeg" alt="Screenshot for Interactive Shiny APP:Word Cloud." />
This Shiny App serves as an extension to our previous Word-Vector analysis of the restaurant category and country style. Once the word vector has been built, anyone can adjust the input limitation (like: minimum frequency and max number of words) and build a word-cloud. User can slide the bar and set the “max words” and “min frequency” in the word cloud. A valid query word would be one that is present in the corpus, else it wouldn’t be part of the word vector. It is easy to think of such words; It help the user to interact with the word cloud generation.</p>
</div>
<div id="shiny-app-change-the-sorting-method-for-rating-distribution-1" class="section level2" number="6.7">
<h2><span class="header-section-number">6.7</span> Shiny App: Change the Sorting Method for Rating Distribution</h2>
<div class="figure">
<img src="shinyimages/map2.jpeg" alt="" />
<p class="caption">Screenshot for Interactive Shiny APP:Rating Distribution .</p>
</div>
<p><img src="shinyimages/map1.jpeg" alt="Screenshot for Interactive Shiny APP:Rating Distribution ." />
In addition to directly using pdf or pictures to display Ratings distribution under different sorting methods, we can use shiny app to adopt a interactive way of switching the sorting method. By clicking the radio button, we can alter the choice of sorting method, and compare the result much more directly. In main panel, we inserted the micromap result as images that is linked to different choices.</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>857dbdfbaa094c29260e0cbe0072bb074be68888</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="results-parta.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EDAV-Project-09/Yelp_Analysis/edit/main/05-results-part-B.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/EDAV-Project-09/Yelp_Analysis/blob/main/05-results-part-B.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
